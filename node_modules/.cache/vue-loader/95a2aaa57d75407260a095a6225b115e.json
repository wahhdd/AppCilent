{"remainingRequest":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\zhifu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\zhifu.vue","mtime":1559628910196},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport headNav from '../components/head-nav.vue'\nexport default {\n\tname:'zhifu',\n\tdata() {\n\t\treturn {\n\t\t\tpays: {},\n\t\t\tw:null,\n\t\t\tPAYSERVER:'http://demo.dcloud.net.cn/payment/?payid=',\n\t\t\tadress:\n\t\t\t\t{\n\t\t\t\t\tid:'1',\n\t\t\t\t\tname:'陈贤柏',\n\t\t\t\t\tas:'甘肃省 兰州市 安宁区 兰州交通大学 快捷支付服务',\n\t\t\t\t\ttel:'18893910702',\n\t\t\t\t\tarry:['甘肃省','兰州市','安宁区','兰州交通大学']\n\t\t\t\t}\n\t\t\t\n\t\t}\n\t},\n\tmounted() {\n\t\tvar ff=this;\n\t\tthis.$root.dd.plusReady(function () {\n\t\t    plus.payment.getChannels(function(channels){\n\t\t    \tfor(var i in channels){\n\t\t    \t\tvar channel=channels[i];\n\t\t    \t\tif(channel.id=='qhpay'||channel.id=='qihoo'||channel.id=='appleiap'){\n\t\t    \t\t\tcontinue;\n\t\t    \t\t}\n\t\t    \t\tff.pays[channel.id]=channel;\n\t\t    \t\tff.checkServices(channel);\n\t\t    \t}\n\t\t    },function(e){\n\t\t    \tplus.nativeUI.alert('获取支付通道失败：'+e.message);\n\t\t    });\n\t\t})\n\t\tthis.$store.commit('showBottomNav', false);\n\t},\n\tmethods: {\n\t\tsure(){\n\t\t\tthis.$refs.bian.style.display='none';\n\t\t\tthis.adress.as=this.adress.arry.toString().replace(/[,]/g,' ')\n\t\t},\n\t\tedit(){\n\t\t\tthis.$refs.bianji.style.color='#5c5959'\n\t\t},\n\t\teditend(){\n\t\t\tthis.$refs.bianji.style.color='#9B9B9B'\n\t\t\tthis.$refs.bian.style.display='block'\n\t\t},\n\t\tcheckServices(pc){\n\t\t\tif(!pc.serviceReady){\n\t\t\t\tvar txt=null;\n\t\t\t\tswitch(pc.id){\n\t\t\t\t\tcase 'alipay':\n\t\t\t\t\ttxt='检测到系统未安装“支付宝快捷支付服务”，无法完成支付操作，是否立即安装？';\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\ttxt='系统未安装“'+pc.description+'”服务，无法完成支付，是否立即安装？';\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tplus.nativeUI.confirm(txt, function(e){\n\t\t\t\t\tif(e.index==0){\n\t\t\t\t\t\tpc.installService();\n\t\t\t\t\t}\n\t\t\t\t}, pc.description);\n\t\t\t}\n\t\t},\n\t\tpay(id){\n\t\t\tif(this.w){return;}//检查是否请求订单中\n\t\t\tvar url=this.PAYSERVER;\n\t\t\tif(id=='alipay'||id=='wxpay'){\n\t\t\t\turl+=id;\n\t\t\t}else{\n\t\t\t\tplus.nativeUI.alert('当前环境不支持此支付通道！', null, '捐赠');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar appid=plus.runtime.appid;\n\t\t\tif(navigator.userAgent.indexOf('StreamApp')>=0){\n\t\t\t\tappid='Stream';\n\t\t\t}\n\t\t\turl+='&appid='+appid+'&total=';\n\t\t\t\n\t\t\tthis.w=plus.nativeUI.showWaiting();\n\t\t\t// 请求支付订单\n\t\t\tvar amount = this.$store.state.total;\n\t\t\tvar xhr=new XMLHttpRequest();\n\t\t\tvar ff=this;\n\t\t\txhr.onreadystatechange=function(){\n\t\t\t\tswitch(xhr.readyState){\n\t\t\t\t\tcase 4:\n\t\t\t\t\tff.w.close();ff.w=null;\n\t\t\t\t\tif(xhr.status==200){\n\t\t\t\t\t\tvar order=xhr.responseText;\n\t\t\t\t\t\tplus.payment.request(ff.pays[id],order,function(result){\n\t\t\t\t\t\t\tplus.nativeUI.alert('支付成功：感谢你的支持，我们会继续努力完善产品。',function(){\n\t\t\t\t\t\t\t\tback();\n\t\t\t\t\t\t\t},'捐赠');\n\t\t\t\t\t\t},function(e){\n\t\t\t\t\t\t\tplus.nativeUI.alert('很遗憾', null, '支付失败：'+e.code);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tplus.nativeUI.alert('获取订单信息失败！', null, '捐赠');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\txhr.open('GET',url+amount);\n\t\t\txhr.send();\n\t\t}\n\t},\n\tbeforeDestroy() {\n\t\tthis.$store.commit('showBottomNav', true);\n\t},\n\tcomponents: {\n\t\theadNav\n\t},\n}\n",{"version":3,"sources":["zhifu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"zhifu.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"address\">\r\n\t\t<head-nav>支付</head-nav>\r\n\t\t<ul adress class=\"box\">\r\n\t\t\t<div class=\"titleHeader\">\r\n\t\t\t\t<div class=\"name\">收货人：{{adress.name}}</div>\r\n\t\t\t\t<div class=\"tel\">{{adress.tel}}</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"titleMian\">\r\n\t\t\t\t<div class=\"asHeader\">收货地址：</div>\r\n\t\t\t\t<div class=\"as\">{{adress.as}}</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"tools\">\r\n\t\t\t\t<div @touchstart='edit' class=\"edit\" @touchend='editend' ref=\"bianji\">\r\n\t\t\t\t\t<i class=\"mui-icon mui-icon-compose\"></i>编辑\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</ul>\r\n\t\t<ul class=\"mui-table-view mui-table-view-chevron\"  ref=\"bian\" :style=\"{display:'none'}\">\r\n\t\t\t<li>\r\n\t\t\t\t<p>收货人</p>\r\n\t\t\t\t<div><input type=\"text\" placeholder=\"流沙河\" v-model.lazy=\"adress.name\"></div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<p>手机号码</p>\r\n\t\t\t\t<div><input type=\"text\" v-model.lazy=\"adress.tel\"></div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<p>省/市/区</p>\r\n\t\t\t\t<div class=\"three\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"text\" v-model.lazy=\"adress.arry[0]\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"text\"  v-model.lazy=\"adress.arry[1]\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input type=\"text\"  v-model.lazy=\"adress.arry[2]\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<p>详细地址</p>\r\n\t\t\t\t<div><input type=\"text\" v-model.lazy=\"adress.arry[3]\"></div>\r\n\t\t\t</li>\r\n\t\t\t<li>\r\n\t\t\t\t<div class=\"submit\"><button @click=\"sure\">确认</button></div>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<div class=\"ali\" @click=\"pay('alipay')\">支付宝支付</div>\r\n\t\t<div class=\"wx\" @click=\"pay('wxpay')\">微信支付</div>\r\n\t</div>\r\n</template>\r\n\r\n<style scoped=\"scoped\">\r\n.tools::after{\r\n\tcontent: '';\r\n\tdisplay: block;\r\n\tclear: both;\r\n}\r\n.edit{\r\n\tfloat: right;\r\n\tcolor: #9B9B9B;\r\n}\r\n.as{\r\n\tflex: 1;\r\n}\r\n.asHeader{\r\n\twidth: 1.6rem;\r\n}\r\n.titleMian{\r\n\tcolor: #BCBCBC;\r\n\tpadding: .3rem 0;\r\n\tdisplay: flex;\r\n\tline-height: 1.4;\r\n}\r\n.titleHeader{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tfont-size: .36rem;\r\n\tfont-weight: 500;\r\n}\r\n\r\n.box{\r\n\tbackground: #FFFFFF;\r\n\tmargin: .2rem 0;\r\n\tborder-bottom: solid 1px #D7D7D7;\r\n}\r\n\tul {\r\n\t\tlist-style: none;\r\n\t\tpadding: 0.4rem;\r\n\t}\r\n\t.address ul li p {\r\n\t\tfont-size: .15rem;\r\n\t\tline-height: 0.7rem;\r\n\t}\r\n\r\n\t.address ul li div {\r\n\t\tborder: 1px solid #333;\r\n\t\theight: 0.8rem;\r\n\t}\r\n\r\n\t.address ul li .three {\r\n\t\tdisplay: flex;\r\n\t\tborder: none;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.address ul li .three div {\r\n\t\twidth: 30%;\r\n\t}\r\n\r\n\t.address ul li div input,\r\n\t.address ul li div button {\r\n\t\twidth: 100%;\r\n\t\theight: 0.7rem;\r\n\t\tline-height: 0.7rem;\r\n\t\tborder: none;\r\n\t\tbackground: none;\r\n\t\tfont-size: .25rem;\r\n\t}\r\n\r\n\t.address ul li div input {\r\n\t\ttext-indent: 0.4em;\r\n\t}\r\n\r\n\t.address ul li div.submit {\r\n\t\tbackground: #ffe828;\r\n\t\tborder: none;\r\n\t\tmargin-top: 0.4rem;\r\n\t}\r\n\t.ali{\r\n\t\twidth: 60%;\r\n\t\theight: 1rem;\r\n\t\tborder-radius: 0.5rem;\r\n\t\tbackground: #019FE8;\r\n\t\tmargin: 0.3rem auto;\r\n\t\tline-height: 1rem;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.wx{\r\n\t\twidth: 60%;\r\n\t\theight: 1rem;\r\n\t\tborder-radius: 0.5rem;\r\n\t\tbackground: #05C963;\r\n\t\tmargin: 0.3rem auto;\r\n\t\tline-height: 1rem;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.ali:hover{\r\n\t\tbackground:#0b7fb4;\r\n\t}\r\n\t.wx:hover{\r\n\t\tbackground:#26a663;\r\n\t}\r\n</style>\r\n\r\n<script>\r\n\timport headNav from '../components/head-nav.vue'\r\n\texport default {\r\n\t\tname:'zhifu',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpays: {},\r\n\t\t\t\tw:null,\r\n\t\t\t\tPAYSERVER:'http://demo.dcloud.net.cn/payment/?payid=',\r\n\t\t\t\tadress:\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid:'1',\r\n\t\t\t\t\t\tname:'陈贤柏',\r\n\t\t\t\t\t\tas:'甘肃省 兰州市 安宁区 兰州交通大学 快捷支付服务',\r\n\t\t\t\t\t\ttel:'18893910702',\r\n\t\t\t\t\t\tarry:['甘肃省','兰州市','安宁区','兰州交通大学']\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar ff=this;\r\n\t\t\tthis.$root.dd.plusReady(function () {\r\n\t\t\t    plus.payment.getChannels(function(channels){\r\n\t\t\t    \tfor(var i in channels){\r\n\t\t\t    \t\tvar channel=channels[i];\r\n\t\t\t    \t\tif(channel.id=='qhpay'||channel.id=='qihoo'||channel.id=='appleiap'){\r\n\t\t\t    \t\t\tcontinue;\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\tff.pays[channel.id]=channel;\r\n\t\t\t    \t\tff.checkServices(channel);\r\n\t\t\t    \t}\r\n\t\t\t    },function(e){\r\n\t\t\t    \tplus.nativeUI.alert('获取支付通道失败：'+e.message);\r\n\t\t\t    });\r\n\t\t\t})\r\n\t\t\tthis.$store.commit('showBottomNav', false);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsure(){\r\n\t\t\t\tthis.$refs.bian.style.display='none';\r\n\t\t\t\tthis.adress.as=this.adress.arry.toString().replace(/[,]/g,' ')\r\n\t\t\t},\r\n\t\t\tedit(){\r\n\t\t\t\tthis.$refs.bianji.style.color='#5c5959'\r\n\t\t\t},\r\n\t\t\teditend(){\r\n\t\t\t\tthis.$refs.bianji.style.color='#9B9B9B'\r\n\t\t\t\tthis.$refs.bian.style.display='block'\r\n\t\t\t},\r\n\t\t\tcheckServices(pc){\r\n\t\t\t\tif(!pc.serviceReady){\r\n\t\t\t\t\tvar txt=null;\r\n\t\t\t\t\tswitch(pc.id){\r\n\t\t\t\t\t\tcase 'alipay':\r\n\t\t\t\t\t\ttxt='检测到系统未安装“支付宝快捷支付服务”，无法完成支付操作，是否立即安装？';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttxt='系统未安装“'+pc.description+'”服务，无法完成支付，是否立即安装？';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tplus.nativeUI.confirm(txt, function(e){\r\n\t\t\t\t\t\tif(e.index==0){\r\n\t\t\t\t\t\t\tpc.installService();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, pc.description);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tpay(id){\r\n\t\t\t\tif(this.w){return;}//检查是否请求订单中\r\n\t\t\t\tvar url=this.PAYSERVER;\r\n\t\t\t\tif(id=='alipay'||id=='wxpay'){\r\n\t\t\t\t\turl+=id;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tplus.nativeUI.alert('当前环境不支持此支付通道！', null, '捐赠');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar appid=plus.runtime.appid;\r\n\t\t\t\tif(navigator.userAgent.indexOf('StreamApp')>=0){\r\n\t\t\t\t\tappid='Stream';\r\n\t\t\t\t}\r\n\t\t\t\turl+='&appid='+appid+'&total=';\r\n\t\t\t\t\r\n\t\t\t\tthis.w=plus.nativeUI.showWaiting();\r\n\t\t\t\t// 请求支付订单\r\n\t\t\t\tvar amount = this.$store.state.total;\r\n\t\t\t\tvar xhr=new XMLHttpRequest();\r\n\t\t\t\tvar ff=this;\r\n\t\t\t\txhr.onreadystatechange=function(){\r\n\t\t\t\t\tswitch(xhr.readyState){\r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tff.w.close();ff.w=null;\r\n\t\t\t\t\t\tif(xhr.status==200){\r\n\t\t\t\t\t\t\tvar order=xhr.responseText;\r\n\t\t\t\t\t\t\tplus.payment.request(ff.pays[id],order,function(result){\r\n\t\t\t\t\t\t\t\tplus.nativeUI.alert('支付成功：感谢你的支持，我们会继续努力完善产品。',function(){\r\n\t\t\t\t\t\t\t\t\tback();\r\n\t\t\t\t\t\t\t\t},'捐赠');\r\n\t\t\t\t\t\t\t},function(e){\r\n\t\t\t\t\t\t\t\tplus.nativeUI.alert('很遗憾', null, '支付失败：'+e.code);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tplus.nativeUI.alert('获取订单信息失败！', null, '捐赠');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\txhr.open('GET',url+amount);\r\n\t\t\t\txhr.send();\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.$store.commit('showBottomNav', true);\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\theadNav\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n\r\n"]}]}