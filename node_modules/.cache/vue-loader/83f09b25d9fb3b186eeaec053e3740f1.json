{"remainingRequest":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\find.vue?vue&type=style&index=0&id=4915d685&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\find.vue","mtime":1555653559409},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.my-item{\r\n\tpadding-left: 20px;\r\n}\r\n.food-list ul{\r\nline-height: 50px;\r\nmax-height: 150px;\r\nmargin-bottom: 60px;\r\n}\r\n.my-center{\r\n\tpadding: 15px 0;\r\n}\r\n.food-list ul li{\r\ndisplay: flex;\r\njustify-content: space-between;\r\n}\r\n.food-list{\r\n\tbackground: #FFFFFF;\r\n\twidth: 100%;\r\n\tposition: fixed;\r\n\tz-index: 50;\r\n\tbottom: 0;\r\n}\r\n.food-list ul li{\r\n\theight: 48px;\r\n\tbackground: #F5F5F5;\r\n\tborder-bottom: 1px solid #AEAFAF;\r\n\tborder-top: 1px solid #AEAFAF;\r\n}\r\n.bottom-icon{\r\n\tbackground: #FFFFFF;\r\n\tborder-radius: 50%;\r\n\theight: 100%;\r\n\twidth: 50px;\r\n\tmargin-left: 30px;\r\n}\r\n.money{\r\n\tflex: 4;\r\n\tfont-size: 24px;\r\n\tcolor: #f40;\r\n\tmargin: 0 20px;\r\n}\r\n.go-total{\r\n\tflex: 3;\r\n\theight: 50px;\r\n}\r\n.bottom{\r\n\tposition: fixed;\r\n\tbottom: 10px;\r\n\twidth: 90%;\r\n\theight: 50px;\r\n\tz-index: 99;\r\n\tbackground: rgba(51,51,51,0.9);\r\n\tline-height: 50px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tleft:50%;\r\n\tborder-radius: 25px;\r\n\ttransform: translateX(-50%);\r\n}\r\n.price{\r\n\tdisplay:flex;\r\n\tjustify-content:space-between;\r\n}\r\n.food-header img{\r\n\twidth:20px;\r\n\theight:20px;\r\n}\r\n.food-header{\r\n\theight:20px !important;\r\n\tmargin-bottom:5px !important;\r\n\tbackground:#ddd;\r\n}\n.diancai{\n\twidth: 100%;\n\tpadding: 10px 0;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\r\n.cur{\r\n\tbackground: #D8D8D8;\r\n\t\r\n}\n.left-list{\n\twidth: 22%;\n\tbackground: #f4f2f2;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\ttop: 50px;\r\n\tbottom: 0;\r\n    z-index: 1;\n}\r\n.left-list ul{\r\n\twidth: 100%;\r\n}\r\n.left-list img{\r\n\twidth: 10px;\r\n\tvertical-align: middle;\r\n}\n.left-list li{\n\tpadding: 17px 0;\r\n\tfont-size: 13px;\r\n\twidth:100%;\r\n\tbox-sizing:border-box;\n\ttext-align: center;\n}\n.right-list{\n\twidth: 70%;\r\n\tposition: absolute;\r\n\toverflow-y: auto;\r\n\tright: 0;\r\n\tpadding-left: 3%;\r\n\tpadding-right: 5%;\r\n\ttop: 50px;\r\n\tbottom: 0;\n}\n.right-list li{\n\theight: 95px;\n\tdisplay: flex;\n\tmargin-bottom: 40px;\n}\n.pic{\n\twidth: 37%;\n}\r\n.pic img{\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\n.about{\n\twidth: 60%;\n\tbox-sizing: border-box;\n\tpadding: 5px 10px;\n}\n.about-eat{\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\r\n",{"version":3,"sources":["find.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"find.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n<div class=\"content\">\r\n\t<headNav>商城</headNav>\r\n\t<div class=\"diancai\">\r\n\t\t<div class=\"left-list\" ref=\"menuWrapper\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in leftList\" :class=\"{cur:cont==index}\" @click=\"selectMenu(index,$event)\">\r\n\t\t\t\t\t<img v-if=\"item.icon\" :src=\"item.icon\"/>\r\n\t\t\t\t\t{{item.name}}\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class=\"right-list\" ref=\"foodWrapper\">\r\n\t\t\t<div>\r\n\t\t\t\t<ul v-for=\"item in leftList\" ref=\"foodList\">\r\n\t\t\t\t\t<li class=\"food-header\">\r\n\t\t\t\t\t\t<img v-if=\"item.icon\" :src=\"item.icon\"/>\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li v-for=\"food in item.spus\">\r\n\t\t\t\t\t\t<div class=\"pic\">\r\n\t\t\t\t\t\t\t<img :src=\"food.picture\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"about\">\r\n\t\t\t\t\t\t\t<h3>{{food.name}}</h3>\r\n\t\t\t\t\t\t\t<p><span>{{food.month_saled_content}}</span><span>{{food.praise_content}}</span></p>\r\n\t\t\t\t\t\t\t<div class='price'>\r\n\t\t\t\t\t\t\t\t<div>{{food.min_price}}</div>\r\n\t\t\t\t\t\t\t\t<addReduce :food='food'></addReduce>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"bottom\" @click=\"taggle\">\r\n\t\t\t<div class=\"bottom-icon\">\r\n\t\t\t</div>\r\n\t\t\t<div class=\"money\">\r\n\t\t\t\t￥{{total}}\r\n\t\t\t</div>\r\n\t\t\t<div class=\"go-total\">\r\n\t\t\t\t去结算\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"food-list\" v-show=\"flag&&config\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-if=\"item.cont\" v-for=\"item in selectFood\">\r\n\t\t\t\t\t<div class=\"my-item\">\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"my-center\">\r\n\t\t\t\t\t\t<addReduce :food='item'></addReduce>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from 'better-scroll'\r\nimport addReduce from '../components/addReduce'\r\nimport headNav from '../components/head-nav'\r\nexport default {\r\n\tname:'find',\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tleftList:[],\r\n\t\t\tlistHeight:[],\r\n\t\t\tscrollY:0,\r\n\t\t\tflag:false\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n\t\taddReduce,\r\n\t\theadNav\r\n\t},\r\n\tcomputed:{\r\n\t\tcont(){\r\n\t\t\tfor( let i = 0;i<this.listHeight.length;i++ ){\r\n\t          let height1 = this.listHeight[i];\r\n\t          let height2 = this.listHeight[i+1];\r\n\t          if( !height2 || (this.scrollY >= height1 && this.scrollY<height2)){\r\n\t            return i;\r\n\t          }\r\n\t      }\r\n\t      return 0;\r\n\t\t},\r\n\t\ttotal(){\r\n\t\t\treturn this.$store.state.total\r\n\t\t},\r\n\t\tselectFood(){\r\n\t\t\tif(!this.leftList[0]){\r\n\t\t\t\treturn []\r\n\t\t\t}\r\n\t\t\treturn  this.leftList.reduce((value,next)=>{\r\n\t\t\t\treturn value.concat(next.spus)\r\n\t\t\t},[]);\r\n\t\t},\r\n\t\tconfig(){\r\n\t\t\tvar i=0;\r\n\t\t\tthis.selectFood.forEach(function(value){\r\n\t\t\t\tif(value.cont){\r\n\t\t\t\t\ti++\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn i;\r\n\t\t}\r\n\t},\r\n\t methods:{\r\n\t\t   taggle(){\r\n\t\t\t   this.flag=!this.flag;\r\n\t\t\t   if(!this.config){\r\n\t\t\t\t   this.flag=false;\r\n\t\t\t   }\r\n\t\t   },\r\n\t      _initScroll(){\r\n\t        this.menuScroll = new BScroll(this.$refs.menuWrapper,{\r\n\t\t\t\t  click:true\r\n\t        });\r\n\t        this.foodScroll = new BScroll(this.$refs.foodWrapper,{\r\n\t\t\t\t  click:true,\r\n\t\t\t\t  probeType:3\r\n\t        });\r\n\t\t\t  this.foodScroll.on('scroll',(pos) => {\r\n\t          if( pos.y <= 0 ){\r\n\t            this.scrollY = Math.abs( Math.round(pos.y));\r\n\t          }\r\n\t        });\r\n\t      },\r\n\t\t\tselectMenu(index,event){\r\n\t        if( !event._constructed ){\r\n\t          return;\r\n\t        }\r\n\t        let foodList = this.$refs.foodList; //获取到右边li对象\r\n\t        let el = foodList[index];//根据index，获取到右边具体滚动到的li\r\n\t        this.foodScroll.scrollToElement(el,300);//要滑动到右边的对象，300完成动作的时间\r\n\t      },\r\n\t\t\t _calculateHeight(){\r\n\t        let foodList = this.$refs.foodList; //获取到所有的ref='foodList'的DOM元素\r\n\t        let height = 0;\r\n\t        this.listHeight.push(height); //第一个元素的高度是0\r\n\t        for( let i =0;i<foodList.length;i++ ){\r\n\t          let item = foodList[i];\r\n\t          height += item.clientHeight;//通过原生DOM中的js获取到li的高度，并且累加\r\n\t          this.listHeight.push(height);\r\n\t        }\r\n\t      }\r\n\t  },\r\n\tcreated(){\r\n\t\tthis.$axios.get(\"http://192.168.1.6:3000/goods\").then((data)=>{\r\n\t\t\tthis.leftList=data.data.data.food_spu_tags;\r\n\t\t\tthis.$nextTick(() => {  \r\n\t\t\t\tthis._initScroll();\r\n\t\t\t\tthis._calculateHeight();\r\n\t\t\t})\r\n\t\t})\r\n\t\tthis.$store.commit('showBottomNav', false);\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.my-item{\r\n\tpadding-left: 20px;\r\n}\r\n.food-list ul{\r\nline-height: 50px;\r\nmax-height: 150px;\r\nmargin-bottom: 60px;\r\n}\r\n.my-center{\r\n\tpadding: 15px 0;\r\n}\r\n.food-list ul li{\r\ndisplay: flex;\r\njustify-content: space-between;\r\n}\r\n.food-list{\r\n\tbackground: #FFFFFF;\r\n\twidth: 100%;\r\n\tposition: fixed;\r\n\tz-index: 50;\r\n\tbottom: 0;\r\n}\r\n.food-list ul li{\r\n\theight: 48px;\r\n\tbackground: #F5F5F5;\r\n\tborder-bottom: 1px solid #AEAFAF;\r\n\tborder-top: 1px solid #AEAFAF;\r\n}\r\n.bottom-icon{\r\n\tbackground: #FFFFFF;\r\n\tborder-radius: 50%;\r\n\theight: 100%;\r\n\twidth: 50px;\r\n\tmargin-left: 30px;\r\n}\r\n.money{\r\n\tflex: 4;\r\n\tfont-size: 24px;\r\n\tcolor: #f40;\r\n\tmargin: 0 20px;\r\n}\r\n.go-total{\r\n\tflex: 3;\r\n\theight: 50px;\r\n}\r\n.bottom{\r\n\tposition: fixed;\r\n\tbottom: 10px;\r\n\twidth: 90%;\r\n\theight: 50px;\r\n\tz-index: 99;\r\n\tbackground: rgba(51,51,51,0.9);\r\n\tline-height: 50px;\r\n\tdisplay: flex;\r\n\tjustify-content: space-around;\r\n\tleft:50%;\r\n\tborder-radius: 25px;\r\n\ttransform: translateX(-50%);\r\n}\r\n.price{\r\n\tdisplay:flex;\r\n\tjustify-content:space-between;\r\n}\r\n.food-header img{\r\n\twidth:20px;\r\n\theight:20px;\r\n}\r\n.food-header{\r\n\theight:20px !important;\r\n\tmargin-bottom:5px !important;\r\n\tbackground:#ddd;\r\n}\n.diancai{\n\twidth: 100%;\n\tpadding: 10px 0;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n}\r\n.cur{\r\n\tbackground: #D8D8D8;\r\n\t\r\n}\n.left-list{\n\twidth: 22%;\n\tbackground: #f4f2f2;\r\n\toverflow-y: auto;\r\n\tposition: absolute;\r\n\ttop: 50px;\r\n\tbottom: 0;\r\n    z-index: 1;\n}\r\n.left-list ul{\r\n\twidth: 100%;\r\n}\r\n.left-list img{\r\n\twidth: 10px;\r\n\tvertical-align: middle;\r\n}\n.left-list li{\n\tpadding: 17px 0;\r\n\tfont-size: 13px;\r\n\twidth:100%;\r\n\tbox-sizing:border-box;\n\ttext-align: center;\n}\n.right-list{\n\twidth: 70%;\r\n\tposition: absolute;\r\n\toverflow-y: auto;\r\n\tright: 0;\r\n\tpadding-left: 3%;\r\n\tpadding-right: 5%;\r\n\ttop: 50px;\r\n\tbottom: 0;\n}\n.right-list li{\n\theight: 95px;\n\tdisplay: flex;\n\tmargin-bottom: 40px;\n}\n.pic{\n\twidth: 37%;\n}\r\n.pic img{\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n}\n.about{\n\twidth: 60%;\n\tbox-sizing: border-box;\n\tpadding: 5px 10px;\n}\n.about-eat{\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\r\n</style>\r\n"]}]}