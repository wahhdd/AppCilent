{"remainingRequest":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\components\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\components\\search.vue","mtime":1559460039820},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport addReduce from './addReduce'\r\nimport mui from \"../../node_modules/js/mui.min.js\";\r\nexport default {\r\n\tcomponents:{\r\n\t\taddReduce\r\n\t},\r\n  data() {\r\n    return {\r\n      food: \"\",\r\n      cont: 1,\r\n      nativeWebview: {},\r\n      imm: {},\r\n      InputMethodManager: {},\r\n      info: []\r\n    };\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    initNativeObjects() {\r\n      if (mui.os.android) {\r\n        var main = plus.android.runtimeMainActivity();\r\n        var Context = plus.android.importClass(\"android.content.Context\");\r\n        this.InputMethodManager = plus.android.importClass(\r\n          \"android.view.inputmethod.InputMethodManager\"\r\n        );\r\n        this.imm = main.getSystemService(Context.INPUT_METHOD_SERVICE);\r\n      } else {\r\n        this.nativeWebview = plus.webview\r\n          .currentWebview()\r\n          .nativeInstanceObject();\r\n      }\r\n    },\r\n    showSoftInput() {\r\n      if (mui.os.android) {\r\n        this.imm.toggleSoftInput(0, this.InputMethodManager.SHOW_FORCED);\r\n      } else {\r\n        this.nativeWebview.plusCallMethod({\r\n          setKeyboardDisplayRequiresUserAction: false\r\n        });\r\n      }\r\n      setTimeout(function() {\r\n        //此处可写具体逻辑设置获取焦点的input\r\n        var inputElem = document.querySelector(\"input\");\r\n        inputElem.focus();\r\n      }, 200);\r\n    },\r\n    onSubmit() {\r\n\tthis.cont=2;\r\n      this.$axios.post(this.$url + \"/goods\", this.food).then(data => {\r\n\t   this.info=data.data;\r\n\t   console.log(this.info)\r\n\t   if(this.info.length){\r\n\t\t    this.cont=0;\r\n\t   }else{\r\n\t\t   this.cont=1;\r\n\t   }\r\n      }).catch(err=>{\r\n\t\t  console.log(err)\r\n\t\t  this.cont=1;\r\n\t  });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"showBottomNav\", false);\r\n    mui(\"input\").input();\r\n    var dd = this;\r\n    mui.plusReady(function() {\r\n      dd.initNativeObjects();\r\n      dd.showSoftInput();\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(\"showBottomNav\", true);\r\n  }\r\n};\r\n",{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <form method=\"post\" v-on:submit.prevent=\"onSubmit\" class=\"box\">\r\n      <div class=\"mui-input-row mui-search\">\r\n        <input type=\"search\" v-model=\"food\" class=\"mui-input-clear .mui-input-speech\" placeholder>\r\n      </div>\r\n      <div class=\"back\" @click=\"goBack\">取消</div>\r\n    </form>\r\n    <div>\r\n      <div v-if=\"cont==1\" class=\"dd\">抱歉，没有相关搜索结果</div>\r\n\t  <div v-else-if=\"cont==2\" class=\"dd\"><loading-0></loading-0></div>\r\n      <div class=\"cc\" v-else>\r\n        <div class=\"goodsList\" v-for=\"item in info\" :key=\"item.id\">\r\n          <div class=\"goodsPicture\">\r\n            <img :src=\"item.picture\">\r\n          </div>\r\n          <div class=\"contentBox\">\r\n            <h3 class=\"goodsName\">{{item.name}}</h3>\r\n            <div class=\"goodsSaled\">{{item.month_saled_content}}</div>\r\n            <div class=\"flexBox\">\r\n              <div class=\"goodsPrice\">{{item.min_price}}￥</div>\r\n              <div class=\"goodsTools\"><addReduce :food='item'></addReduce></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n.mui-search{\r\n\twidth: 87%;\r\n}\r\n.dd{\r\n\tposition: absolute;\r\n\ttop: 65px;\r\n\tbottom: 0;\r\n\tline-height: 8rem;\r\n\ttext-align: center;\r\n\twidth: 100%;\r\n\tcolor: #949494;\r\n}\r\n.goodsPrice{\r\n\tcolor: #E86270;\r\n\tfont-weight: 600;\r\n\tfont-size: 16px;\r\n}\r\n.flexBox{\r\n\tpadding-top: .1rem;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between\r\n}\r\n.goodsSaled{\r\n\tpadding: .2rem 0;\r\n}\r\n.contentBox {\r\n\tflex:1;  \r\n\tbox-sizing: border-box;\r\n\tpadding: 4%;\r\n}\r\n.goodsName {\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  /* font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; */\r\n}\r\n.goodsList img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.goodsList {\r\n  background: #f7f7f7;\r\n  width: 92%;\r\n  margin: 3% 3% 3% 5%;\r\n  display: flex;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 0 20px 0 #dbdcde;\r\n  height: 110px;\r\n}\r\n.goodsPicture {\r\n  width: 110px;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.box {\r\n  margin: 0.3rem 0.3rem 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.back {\r\n  width: 0.6rem;\r\n  font-size: 0.28rem;\r\n  color: #757575;\r\n  line-height: 0.6rem;\r\n}\r\n</style>\r\n<script>\r\nimport addReduce from './addReduce'\r\nimport mui from \"../../node_modules/js/mui.min.js\";\r\nexport default {\r\n\tcomponents:{\r\n\t\taddReduce\r\n\t},\r\n  data() {\r\n    return {\r\n      food: \"\",\r\n      cont: 1,\r\n      nativeWebview: {},\r\n      imm: {},\r\n      InputMethodManager: {},\r\n      info: []\r\n    };\r\n  },\r\n  methods: {\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    initNativeObjects() {\r\n      if (mui.os.android) {\r\n        var main = plus.android.runtimeMainActivity();\r\n        var Context = plus.android.importClass(\"android.content.Context\");\r\n        this.InputMethodManager = plus.android.importClass(\r\n          \"android.view.inputmethod.InputMethodManager\"\r\n        );\r\n        this.imm = main.getSystemService(Context.INPUT_METHOD_SERVICE);\r\n      } else {\r\n        this.nativeWebview = plus.webview\r\n          .currentWebview()\r\n          .nativeInstanceObject();\r\n      }\r\n    },\r\n    showSoftInput() {\r\n      if (mui.os.android) {\r\n        this.imm.toggleSoftInput(0, this.InputMethodManager.SHOW_FORCED);\r\n      } else {\r\n        this.nativeWebview.plusCallMethod({\r\n          setKeyboardDisplayRequiresUserAction: false\r\n        });\r\n      }\r\n      setTimeout(function() {\r\n        //此处可写具体逻辑设置获取焦点的input\r\n        var inputElem = document.querySelector(\"input\");\r\n        inputElem.focus();\r\n      }, 200);\r\n    },\r\n    onSubmit() {\r\n\tthis.cont=2;\r\n      this.$axios.post(this.$url + \"/goods\", this.food).then(data => {\r\n\t   this.info=data.data;\r\n\t   console.log(this.info)\r\n\t   if(this.info.length){\r\n\t\t    this.cont=0;\r\n\t   }else{\r\n\t\t   this.cont=1;\r\n\t   }\r\n      }).catch(err=>{\r\n\t\t  console.log(err)\r\n\t\t  this.cont=1;\r\n\t  });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"showBottomNav\", false);\r\n    mui(\"input\").input();\r\n    var dd = this;\r\n    mui.plusReady(function() {\r\n      dd.initNativeObjects();\r\n      dd.showSoftInput();\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(\"showBottomNav\", true);\r\n  }\r\n};\r\n</script>\r\n"]}]}