{"remainingRequest":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\src\\views\\login.vue","mtime":1559628925226},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr chen\\Desktop\\daima\\aiyundong\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport navHead from '../components/head-nav.vue';\nimport mui from '../../node_modules/js/mui.min.js';\nexport default {\n  name: 'login',\n  data: function data() {\n    return {\n      username: '',\n      password: ''\n    };\n  },\n  components: {\n    navHead: navHead\n  },\n  mounted: function mounted() {\n    mui('input').input();\n    this.$store.commit('showBottomNav', false);\n  },\n  methods: {\n    onSubmit: function onSubmit() {\n      var check = true;\n      var fun = this;\n      mui('input').each(function () {\n        //若当前input为空，则alert提醒 \n        if (!this.value || this.value.trim() == \"\") {\n          mui.alert(\"用户名和密码不允许为空\");\n          check = false;\n          return false;\n        }\n      }); //校验通过，继续执行业务逻辑 \n\n      if (check) {\n        var wt;\n        this.$root.dd.plusReady(function () {\n          wt = plus.nativeUI.showWaiting();\n        });\n        this.$axios.post(this.$url + '/login', {\n          username: this.username,\n          password: this.password\n        }).then(function (response) {\n          fun.$root.dd.plusReady(function () {\n            plus.nativeUI.closeWaiting();\n          });\n\n          if (response.data.length >= 1) {\n            fun.$store.state.login = true;\n            fun.$store.commit('user', response.data[0]);\n            fun.$router.go(-1);\n          } else {\n            mui.alert('用户名或密码错误');\n          }\n        }).catch(function (error) {\n          mui.alert('出现未知错误');\n          fun.$root.dd.plusReady(function () {\n            wt.close();\n          });\n        });\n      }\n    }\n  },\n  beforDestory: function beforDestory() {\n    this.$store.commit('showBottomNav', true);\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,OAAA,MAAA,4BAAA;AACA,OAAA,GAAA,MAAA,kCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GARA;AAWA,EAAA,OAXA,qBAWA;AACA,IAAA,GAAA,CAAA,OAAA,CAAA,CAAA,KAAA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,KAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,KAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA,YAAA,CAAA,KAAA,KAAA,IAAA,KAAA,KAAA,CAAA,IAAA,MAAA,EAAA,EAAA;AACA,UAAA,GAAA,CAAA,KAAA,CAAA,aAAA;AACA,UAAA,KAAA,GAAA,KAAA;AACA,iBAAA,KAAA;AACA;AACA,OAPA,EAHA,CAUA;;AACA,UAAA,KAAA,EAAA;AACA,YAAA,EAAA;AACA,aAAA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAA,YAAA;AACA,UAAA,EAAA,GAAA,IAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AACA,SAFA;AAGA,aAAA,MAAA,CAAA,IAAA,CAAA,KAAA,IAAA,GAAA,QAAA,EAAA;AACA,UAAA,QAAA,EAAA,KAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,UAAA,GAAA,CAAA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,IAAA,CAAA,QAAA,CAAA,YAAA;AACA,WAFA;;AAGA,cAAA,QAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,YAAA,GAAA,CAAA,MAAA,CAAA,KAAA,CAAA,KAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,QAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,YAAA,GAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,WAJA,MAIA;AACA,YAAA,GAAA,CAAA,KAAA,CAAA,UAAA;AACA;AACA,SAfA,EAgBA,KAhBA,CAgBA,UAAA,KAAA,EAAA;AACA,UAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AACA,UAAA,GAAA,CAAA,KAAA,CAAA,EAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,EAAA,CAAA,KAAA;AACA,WAFA;AAGA,SArBA;AAsBA;AACA;AAxCA,GAfA;AAyDA,EAAA,YAzDA,0BAyDA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,IAAA;AACA;AA3DA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"mui-content\">\r\n\t\t<nav-head>欢迎登录</nav-head>\r\n\t\t<div class=\"banner\">\r\n\t\t\t<h3 class=\"my-login-h3\">爱运动</h3>\r\n\t\t</div>\r\n\t\t<div class=\"content\">\r\n\t\t\t<form  method=\"post\" v-on:submit.prevent=\"onSubmit\">\r\n\t\t\t\t<div class=\"box\">\r\n\t\t\t\t\t<h4 class=\"my-login-h4\"><img :src=\"this.$url+'/img/login.png'\" /></h4>\r\n\t\t\t\t\t<div class=\"mui-input-row input-border\">\r\n\t\t\t\t\t\t<label class=\"my-login-label1\"><img :src=\"this.$url+'/img/shouji.png'\" /></label>\r\n\t\t\t\t\t\t<input class=\"fl mui-input-clear\" type=\"text\" placeholder=\"输入你的用户名/手机号\" v-model=\"username\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"mui-input-row input-border\">\r\n\t\t\t\t\t\t<label class=\"my-login-label2\"><img :src=\"this.$url+'/img/password.png'\" /></label>\r\n\t\t\t\t\t\t<input class='fl mui-input-password' type=\"password\" placeholder=\"输入你的密码\" v-model=\"password\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"clear\">\r\n\t\t\t\t\t\t<a class=\"margin font\"></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input class=\"chen\" type=\"submit\" value=\"登录\" />\r\n\t\t\t</form>\r\n\t\t\t<p  class=\"center\">\r\n\t\t\t\t<router-link to=\"/zhuce\">注册</router-link>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport navHead from '../components/head-nav.vue'\r\n\timport mui from '../../node_modules/js/mui.min.js'\r\n\texport default {\r\n\t\tname:'login',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpassword: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tnavHead\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tmui('input').input();\r\n\t\t\tthis.$store.commit('showBottomNav', false);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonSubmit() {\r\n\t\t\t\tvar check=true;\r\n\t\t\t\tvar fun=this;\r\n\t\t\t\tmui('input').each(function() {\r\n\t\t\t\t//若当前input为空，则alert提醒 \r\n\t\t\t\tif(!this.value || this.value.trim() == \"\") {\r\n\t\t\t\t\tmui.alert(\"用户名和密码不允许为空\");\r\n\t\t\t\t\tcheck = false;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t}); //校验通过，继续执行业务逻辑 \r\n\t\t\t\tif(check){\r\n\t\t\t\t\tvar wt;\r\n\t\t\t\t\tthis.$root.dd.plusReady(function () {\r\n\t\t\t\t\t   wt=plus.nativeUI.showWaiting();\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$axios.post(this.$url+'/login', {\r\n\t\t\t\t\t\t\tusername: this.username,\r\n\t\t\t\t\t\t\tpassword: this.password\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\tfun.$root.dd.plusReady(function () {\r\n\t\t\t\t\t\t\t    plus.nativeUI.closeWaiting();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tif(response.data.length>=1){\r\n\t\t\t\t\t\t\t\tfun.$store.state.login=true;\r\n\t\t\t\t\t\t\t\tfun.$store.commit('user',response.data[0])\r\n\t\t\t\t\t\t\t\tfun.$router.go(-1);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tmui.alert('用户名或密码错误')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\t\tmui.alert('出现未知错误')\r\n\t\t\t\t\t\t\tfun.$root.dd.plusReady(function () {\r\n\t\t\t\t\t\t\t   wt.close();\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforDestory() {\r\n\t\t\tthis.$store.commit('showBottomNav', true);\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n\t.my-login-si img {\r\n\t\twidth: 50%;\r\n\t\theight: 50%;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.my-login-si {\r\n\t\theight: .96rem;\r\n\t\twidth: .96rem;\r\n\t\ttext-align: center;\r\n\t\tbackground: #fff;\r\n\t\tbox-shadow: 1px 1px 3px #EEEEEE;\r\n\t\tline-height: .96rem;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 50%;\r\n\t\toverflow: hidden;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.my-login-h4 img{\r\n\t\twidth: inherit;\r\n\t}\r\n\t.my-login-san {\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 2.6rem;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.banner {\r\n\t\twidth: 100%;\r\n\t\theight: 31vh;\r\n\t\tline-height: 31vh;\r\n\t\ttext-align: center;\r\n\t\tbackground: url(../../public/img/banner.png) no-repeat center center/cover;\r\n\t}\r\n\r\n\t.my-login-h3 {\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28px;\r\n\t\tletter-spacing: 5px;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.content {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\tform {\r\n\t\tbox-shadow: 0px 3px 10px #E0F1F7;\r\n\t\ttop: -1rem;\r\n\t\tposition: relative;\r\n\t\tborder-radius: 10px;\r\n\t\tmargin: 0 .4rem;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: .48rem .28rem .84rem;\r\n\t}\r\n\r\n\t.my-login-h4 {\r\n\t\theight: .4rem;\r\n\t\tmargin-left: .32rem;\r\n\t}\r\n\r\n\t.my-login-h4 img {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.input-border {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.mui-input-row label {\r\n\t\theight: 41px !important;\r\n\t\twidth: 41px !important;\r\n\t}\r\n\r\n\t.mui-input-row label img {\r\n\t\tdisplay: block;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.input-border {\r\n\t\tmargin-top: .26rem;\r\n\t\tfont-size: 12px;\r\n\t\tborder-bottom: 1px solid #DDDDDD;\r\n\t}\r\n\r\n\t.margin {\r\n\t\tmargin: .52rem 0 0.4rem;\r\n\t\tdisplay: block;\r\n\t\tfloat: right;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.chen {\r\n\t\tcolor: #fff;\r\n\t\tbottom: -.28125rem;\r\n\t\theight: .82rem;\r\n\t\tposition: absolute;\r\n\t\twidth: 70%;\r\n\t\tleft: 50%;\r\n\t\tborder-radius: 1.28125rem !important;\r\n\t\tbackground-color: #000 !important;\r\n\t\tborder: none !important;\r\n\t\ttransform: translateX(-50%)\r\n\t}\r\n\r\n\tp {\r\n\t\tfont-size: 14px;\r\n\t\tmargin-top: 0;\r\n\t\tmargin-bottom: 10px;\r\n\t\tcolor: #8f8f94;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.ma {\r\n\t\tmargin-top: .42rem;\r\n\t\tmargin-bottom: .4rem;\r\n\t}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}